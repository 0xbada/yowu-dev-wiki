---
title: 확장 가능한 애플리케이션을 위한 데이터베이스 마이그레이션
description: 
published: true
date: 2023-02-17T18:05:16.734Z
tags: 
editor: markdown
dateCreated: 2023-01-30T14:16:32.163Z
---

> 이 문서는 **Google Cloud Translation API를 사용해 자동 번역**되었습니다.
어떤 문서는 원문을 읽는게 나을 수도 있습니다.{.is-info}
- [Migrating Databases for Scalable Applications***English** version of this document is available*](/en/Knowledge-base/Backend/migrating-databases-for-scalable-applications)
{.links-list}

# 확장 가능한 애플리케이션을 위한 데이터베이스 마이그레이션

개발자는 데이터베이스와 관련하여 고유한 문제에 직면합니다. 데이터 일관성을 유지하면서 높은 트래픽 부하를 지원할 수 있어야 합니다. 이것은 종종 데이터베이스를 분할하거나 수평 분할하여 수행합니다. 하나의 데이터베이스는 트래픽이 많은 애플리케이션의 쓰기 및 읽기 로드를 지원하기에 충분하지 않습니다.

## 데이터베이스 샤딩이란?

데이터베이스 샤딩은 수평 분할 방법입니다. 즉, 데이터는 여러 서버 또는 데이터베이스 인스턴스에 걸쳐 분할됩니다. 각 인스턴스에는 데이터의 하위 집합이 포함됩니다.

샤딩의 장점은 읽기 및 쓰기 작업의 성능을 크게 향상시킬 수 있다는 것입니다. 또한 전체적으로 데이터베이스의 확장성을 높일 수 있습니다. 단점은 설정 및 유지 관리가 복잡할 수 있다는 것입니다.

## 데이터베이스 샤딩 방법

데이터베이스를 샤딩하는 몇 가지 방법이 있습니다. 가장 일반적인 방법은 키 기반 접근 방식을 사용하는 것입니다.

이 접근 방식을 사용하면 데이터베이스의 각 레코드에 키가 할당됩니다. 이 키는 레코드를 저장해야 하는 데이터베이스 인스턴스를 결정하는 데 사용됩니다. 예를 들어 키가 사용자 ID인 경우 해당 사용자의 모든 레코드는 동일한 데이터베이스 인스턴스에 저장됩니다.

또 다른 일반적인 접근 방식은 범위 기반 접근 방식을 사용하는 것입니다. 이 접근 방식을 사용하면 값 범위를 기반으로 레코드가 데이터베이스 인스턴스에 저장됩니다. 예를 들어 사용자 ID가 1에서 1000 사이인 레코드는 한 데이터베이스 인스턴스에 저장되고 사용자 ID가 1001에서 2000 사이인 레코드는 다른 인스턴스에 저장될 수 있습니다.

## 데이터베이스 마이그레이션 단계

1. **마이그레이션해야 하는 데이터 유형을 결정합니다.** 이에 따라 어떤 접근 방식이 결정됩니다.
    - 정적 데이터만 마이그레이션해야 하는 경우 기존 데이터베이스 마이그레이션 도구를 사용할 수 있습니다.
    - 동적 데이터를 마이그레이션해야 하는 경우 데이터베이스 쿼리를 생성할 수 있는 도구를 사용해야 합니다.
2. **소스 데이터베이스에서 데이터를 내보냅니다.** 이것은 데이터베이스 내보내기 도구를 사용하여 수행할 수 있습니다.
3. **대상 데이터베이스로 데이터를 가져옵니다.** 이것은 데이터베이스 가져오기 도구를 사용하여 수행할 수 있습니다.
4. **데이터를 올바르게 가져왔는지 확인합니다.** 이는 대상 데이터베이스에 대해 쿼리를 실행하여 수행할 수 있습니다.

## MongoDB에서 MySQL로 데이터베이스 마이그레이션

MongoDB는 널리 사용되는 NoSQL 데이터베이스입니다. MySQL은 널리 사용되는 관계형 데이터베이스입니다. 이 섹션에서는 MongoDB 데이터베이스를 MySQL로 마이그레이션하는 방법을 살펴보겠습니다.

### MongoDB에서 데이터 내보내기

첫 번째 단계는 MongoDB에서 데이터를 내보내는 것입니다. 이는 `mongodump` 유틸리티를 사용하여 수행할 수 있습니다.

```shell
$ mongodump --db my_database
```

이렇게 하면 `my_database` 데이터베이스의 데이터를 포함하는 `dump`라는 디렉토리가 생성됩니다.

### MySQL로 데이터 가져오기

다음 단계는 데이터를 MySQL로 가져오는 것입니다. 이것은 `mysqldump` 유틸리티를 사용하여 수행할 수 있습니다.

```shell
$ mysqldump --db my_database < dump/my_database.sql
```

이렇게 하면 `dump/my_database.sql` 파일에서 `my_database` 데이터베이스로 데이터를 가져옵니다.

### 데이터 확인

마지막으로 데이터를 올바르게 가져왔는지 확인해야 합니다. 이는 MySQL 데이터베이스에 대해 쿼리를 실행하여 수행할 수 있습니다.

```sql
SELECT * FROM my_database LIMIT 10;
```

이렇게 하면 `my_database` 데이터베이스에서 처음 10개의 레코드가 반환됩니다.