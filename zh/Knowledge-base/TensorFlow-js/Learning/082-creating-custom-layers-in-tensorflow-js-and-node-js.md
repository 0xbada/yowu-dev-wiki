---
title: 082：在 TensorFlow.js 和 Node.js 中创建自定义层
description: 
published: true
date: 2023-02-03T02:04:24.985Z
tags: 
editor: markdown
dateCreated: 2023-02-03T02:04:24.985Z
---

> 本文已使用 **Google Cloud Translation API 自动翻译**。
某些文档最好以原文阅读。{.is-info}



- [082: Creating Custom Layers in TensorFlow.js and Node.js***English** document is available*](/en/Knowledge-base/TensorFlow-js/Learning/082-creating-custom-layers-in-tensorflow-js-and-node-js)
{.links-list}


# 082：在 TensorFlow.js 和 Node.js 中创建自定义层

在本文中，我们将学习如何在 TensorFlow.js 和 Node.js 中创建自定义层。

TensorFlow.js 是一个强大的工具，它允许我们创建自定义机器学习模型并将它们部署在浏览器或 Node.js 上。在本文中，我们将专注于在 TensorFlow.js 中创建自定义层。

创建自定义层是扩展 TensorFlow.js 和 Node.js 功能的好方法。通过创建自定义层，我们可以向 TensorFlow.js 和 Node.js 添加核心库中不可用的新功能。

创建自定义层不是一项艰巨的任务，但我们需要牢记一些事项。在这篇文章中，我们将回顾创建自定义层的基础知识并讨论一些我们需要记住的事情。

## 什么是图层？

在我们深入创建自定义图层之前，让我们先退后一步，了解什么是图层。

层是连接在一起的神经元的集合。层通常相互堆叠以形成深度神经网络。

层负责将输入数据转换为输出数据。输入数据被送入第一层，第一层的输出被送入第二层，依此类推。

层可以有不同类型的神经元。最常见的神经元类型是全连接神经元。全连接神经元连接到上一层的所有神经元。

其他类型的神经元包括卷积神经元和池化神经元。卷积神经元用于卷积神经网络，池化神经元用于池化层。

## 创建自定义图层

现在我们知道层是什么，让我们学习如何创建自定义层。

创建自定义层不是一项艰巨的任务，但我们需要牢记一些事项。在本节中，我们将介绍创建自定义层的基础知识。

创建自定义层时，我们需要指定输入形状和输出形状。输入形状是将被送入层的数据的形状，输出形状是层将输出的数据的形状。

我们还需要指定将在层中使用的神经元类型。最常见的神经元类型是全连接神经元。然而，我们也可以使用卷积神经元或池化神经元。

一旦我们指定了输入形状、输出形状和神经元类型，我们就可以实现前向传递和反向传递。正向传递负责将输入数据转换为输出数据，反向传递负责反向传播梯度。

## 实现前向传递

前向传递负责将输入数据转换为输出数据。在本节中，我们将学习如何实现前向传播。

前向传递由```forward```函数实现。此函数接收输入数据并将其转换为输出数据。

输入数据被送入第一层，第一层的输出被送入第二层，依此类推。最后一层的输出就是输出数据。

## 实现向后传递

向后传递负责反向传播梯度。在本节中，我们将学习如何实现反向传递。

向后传递由 ```backward``` 函数实现。此函数接受梯度并将它们向后传播。

梯度通过层向后传播。最后一层的梯度传播到前一层，前一层的梯度传播到前一层，依此类推。

## 结论

在本文中，我们学习了如何在 TensorFlow.js 和 Node.js 中创建自定义层。创建自定义层是扩展 TensorFlow.js 和 Node.js 功能的好方法。

通过创建自定义层，我们可以向 TensorFlow.js 和 Node.js 添加核心库中不可用的新功能。创建自定义层不是一项艰巨的任务，但我们需要牢记一些事项。

在这篇文章中，我们已经了解了创建自定义图层的基础知识。我们已经学习了如何指定输入形状、输出形状和神经元类型。我们还学习了如何实现正向传播和反向传播。