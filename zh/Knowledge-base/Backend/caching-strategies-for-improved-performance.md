---
title: 提高性能的缓存策略
description: 
published: true
date: 2023-01-31T23:17:23.574Z
tags: 
editor: markdown
dateCreated: 2023-01-31T23:17:22.042Z
---

> 本文已使用 **Google Cloud Translation API 自动翻译**。
某些文档最好以原文阅读。{.is-info}

- [Caching Strategies for Improved Performance***English** version of this document is available*](/en/Knowledge-base/Backend/caching-strategies-for-improved-performance)
{.links-list}


  缓存是一种可用于提高系统性能的技术。通过将数据存储在缓存中，系统可以避免每次需要时都必须从较慢的存储介质中获取数据。

可以使用多种不同的缓存策略，每种策略都有自己的优点和缺点。策略的选择将取决于正在实施的特定系统和可接受的权衡。

在本文中，我们将探讨一些最常见的缓存策略及其权衡。我们还将看到如何在代码中实施这些策略。

### 缓存端

Cache-aside 是一种缓存按需填充的策略。当第一次请求一条数据时，它会从较慢的存储介质中取出并存储在缓存中。可以从缓存中提供对相同数据的后续请求，这要快得多。

这种策略的一个优点是它易于实施。无需预填充缓存，这在某些情况下很难做到。

cache-aside 的一个缺点是对数据的第一次请求总是很慢，因为数据需要从较慢的存储介质中获取。通过预取可能很快需要的数据，可以在一定程度上缓解这种情况。

### 直写

在直写缓存中，每当发生更改时，数据都会写入缓存和较慢的存储介质。这确保缓存中的数据始终是最新的。

这种策略的一个优点是数据始终是一致的。由于更改会立即写入缓存和较慢的存储介质，因此不存在两者不同步的风险。

直写缓存的一个缺点是它可能比其他策略慢，因为每个写操作都需要执行两个写操作。这可以通过使用单独的线程写入较慢的存储介质来缓解，这样主线程就不会被阻塞。

### 回写

在回写式缓存中，只有当缓存中的数据被逐出时，数据才会写入较慢的存储介质。这可以提高性能，因为只有在绝对必要时才需要在较慢的存储介质上执行写操作。

这种策略的一个优点是它可以比直写缓存更快，因为当数据发生变化时只需要执行一次写操作。

回写缓存的一个缺点是，如果系统在缓存中的数据写入较慢的存储介质之前崩溃，它可能会导致数据丢失。这可以通过使用日志来跟踪缓存中数据的更改来缓解。

### 结论

缓存是一种强大的技术，可用于提高系统的性能。有许多不同的缓存策略，每种策略都有自己的优点和缺点。策略的选择将取决于正在实施的特定系统和可接受的权衡。